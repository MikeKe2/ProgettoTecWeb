<html>

<head>
	<link type="text/css" rel="stylesheet" href="Css/home.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
	<form action="/login" method="post">
		<div class="form login_user">
			<div>
				<h3 class="title">Username:
					<input type="text" id="user" class="usernameInput" name="username" /></h3>
			</div>
			<div>
				<h3 class="title">Password:
					<input type="password" id="psw" class="usernameInput" name="password" /></h3>
			</div>
			<div>
				<input class="button" type="submit" id="enter" value="Submit" />
			</div>
			<div>
				<a class="link title" href="#">Inserisci un nuovo utente</a>
			</div>
		</div>
	</form>
	<div class="form add_user">
		<h3 class="title"> Inserimento nuovo utente</h3>
		<div>
			<h3 class="title">Username:
				<input type="text" class="usernameInput" id="newName" name="name" /></h3>
		</div>
		<div>
			<h3 class="title">Password:
				<input type="password" class="usernameInput" id="newPassword" name="password" /></h3>
		</div>
		<div>
			<input class="button" type="submit" id="newUser" value="Submit" />
		</div>
	</div>
</body>
<script>
	$(document).ready(function () {
		$("#newUser").click(function (e) {
			e.preventDefault();
			if ($("#newName").val() && $("#newPassword").val()) {
				newUserInfo = {
					name: $("#newName").val(),
					password: $("#newPassword").val()
				};
				$.ajax({
					type: "POST",
					url: "/newUser",
					data: newUserInfo,
					success: function () {
						$("#enter").click();
					}
				});
			}

		});

		$(".link").click(function (e) {
			e.preventDefault();
			$(".login_user").fadeOut();
			$(".add_user").show();
			$(".login_user").prop("disabled", true);
			$(".add_user").prop("disabled", false);
		});
	});
</script>

</html>